<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="dialog-version" content="1.0">
    <meta name="dialog-link" content="https://www.rustore.ru/">
    <meta name="dialog-news" content="04082024">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Диалог</title>
    <style>
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
        }
 
        .row {
            display: flex;
        }

        .row_2 {
            display: flex;
            border-right: 1px solid black;
            border-top: 5px solid black;
            border-left: 1px solid black;
            border-bottom: 1px solid black;
        }
 
        .cell {
            width: 50px;
            height: 50px;
            border: 1px solid black;
            text-align: center;
            line-height: 50px;
            box-sizing: border-box;
        }

        .cell_2 {
            width: 50px;
            height: 50px;
            border-right: 1px solid black;
            border-top: 1px solid black;
            border-left: 5px solid black;
            border-bottom: 1px solid black;
            text-align: center;
            line-height: 50px;
            box-sizing: border-box;
        }
    </style>
</head>

<body>

    <div style="margin: 10px; text-align:justify; font-family: arial;">
    <p>Мы мечтаем, чтобы люди понимали друг друга независимо от физиологических ограничений!</p>
    <p>Если хочешь услышать: нажми на кнопку <img src="screen_ear.jpeg" width="20px" height="20px">,
        и распознанный текст будет выведен на дисплей.</p>
    <p>Если хочешь сказать: напиши текст и нажми на кнопку <img src="screen_mouth.jpeg" width="20px"height="20px">.</p>
    <p>Для быстрой коммуникации используй заготовленные шаблоны фраз, которые можно добавить заранее в разделе
        "Добавить категорию" <img src="screen_select_add.jpg" width="70px" height="20px">.</p>
    <p>Функция "SOS" позволит срочно оповестить близких об экстренной ситуации <img src="screen_sos.jpg"width="70px" height="20px">.</p>
    <p>Подборка свежих новостей со специализированных сайтов даст возможность всегда быть в курсе событий
        <img src="screen_news_board.jpg" width="70px" height="20px">.</p>
</div>
<div class="container" id="container"></div>

    
    <script>
       class Sudoku {
    constructor(size, difficulty) {
        this.size = size;
        this.difficulty = difficulty;
        const SRNd = Math.sqrt(size);
        this.SRN = Math.floor(SRNd);
        this.sudokuVassive = Array.from({length: size}, () => Array.from({length: size}, () => 0));
    }

    fillValues() {
        this.fillDiagonal();
        this.fillRemaining(0, this.SRN);
        this.removeKDigits();
    }

    fillDiagonal() {
        for (let i = 0; i < this.size; i += this.SRN) {
            this.fillBox(i, i);
        }
    }

    unUsedInBox(rowStart, colStart, num) {
        for (let i = 0; i < this.SRN; i++) {
            for (let j = 0; j < this.SRN; j++) {
                if (this.sudokuVassive[rowStart + i][colStart + j] === num) {
                    return false;
                }
            }
        }
        return true;
    }

    fillBox(row, col) {
        let num = 0;
        for (let i = 0; i < this.SRN; i++) {
            for (let j = 0; j < this.SRN; j++) {
                while (true) {
                    num = this.randomGenerator(this.size);
                    if (this.unUsedInBox(row, col, num)) {
                        break;
                    }
                }
                this.sudokuVassive[row + i][col + j] = num;
            }
        }
    }

    randomGenerator(num) {
        return Math.floor(Math.random() * num + 1);
    }

    checkIfSafe(i, j, num) {
        return (
            this.unUsedInRow(i, num) &&
            this.unUsedInCol(j, num) &&
            this.unUsedInBox(i - (i % this.SRN), j - (j % this.SRN), num)
        );
    }

    unUsedInRow(i, num) {
        for (let j = 0; j < this.size; j++) {
            if (this.sudokuVassive[i][j] === num) {
                return false;
            }
        }
        return true;
    }

    unUsedInCol(j, num) {
        for (let i = 0; i < this.size; i++) {
            if (this.sudokuVassive[i][j] === num) {
                return false;
            }
        }
        return true;
    }

    fillRemaining(i, j) {
        if (i === this.size - 1 && j === this.size) {
            return true;
        }

        if (j === this.size) {
            i += 1;
            j = 0;
        }

        if (this.sudokuVassive[i][j] !== 0) {
            return this.fillRemaining(i, j + 1);
        }

        for (let num = 1; num <= this.size; num++) {
            if (this.checkIfSafe(i, j, num)) {
                this.sudokuVassive[i][j] = num;
                if (this.fillRemaining(i, j + 1)) {
                    return true;
                }
                this.sudokuVassive[i][j] = 0;
            }
        }
        return false;
    }

    removeKDigits() {
        let count = this.difficulty;
        while (count !== 0) {
            let i = Math.floor(Math.random() * this.size);
            let j = Math.floor(Math.random() * this.size);
            if (this.sudokuVassive[i][j] !== 0) {
                count--;
                this.sudokuVassive[i][j] = 0;
            }
        }
        return;
    }

    getMas(parametr){
        parametr.fillValues();
        return this.sudokuVassive;
    }
}



let size = 9;
let difficulty = 10;
let sudoku = new Sudoku(size, difficulty);

let sudokuMassive = sudoku.getMas(sudoku);
sudokuM(9, sudokuMassive);

function sudokuM(params, sudokuMas) {
    container.innerHTML = '';
    for (i = 0; i < params; i++){
        const rowElement = document.createElement('div');
        if (i == 3 || i == 6) {
            rowElement.classList.add('row_2');
        } else {
            rowElement.classList.add('row');
        }
        for (j = 0; j < params; j++){
            const cellElement = document.createElement('input');
            if(j == 3 || j == 6){
                cellElement.classList.add('cell_2');
            }else{
                cellElement.classList.add('cell');
            }
            cellElement.value = sudokuMas[i][j];
            rowElement.appendChild(cellElement);
        }
        container.appendChild(rowElement);
    }
}
    </script>
    

</body>

</html>
